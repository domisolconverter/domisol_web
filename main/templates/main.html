{% extends 'header.html' %}

{% load static %}
{% block content %}
<style>
@import url('https://fonts.googleapis.com/css?family=Nanum+Gothic|Nanum+Myeongjo|Noto+Sans+KR&display=swap&subset=korean');
#dropzone{
   width:70%;
   height:50%;
   border:3px dashed #d3d3d3;
   color:white;
   background-color: #F5E1DB;
   line-height:300px;
   text-align:center;
   margin: 0 auto;
   font-family:'Nanum Gothic', serif;
   font-size:20px;
 }
.dropzone.dragover{
    border-color:#000;
    color:#000;
 }
.intro1{
  font-family:'Noto Sans KR', sans-serif;
  font-size:30px;
  margin-bottom:18px;
  margin-top:-10px;
}
.intro2{
  font-family:'Nanum Myeongjo', serif;
  font-size:18px;
  margin-bottom:30px;
}

.file{
  margin-top: 15px;
}
.input_email{
  margin-bottom: 15px;
}
.upload_button{
  background-color: #F2977E;
  border: none;
  color: white;
  padding: 8px 28px;
  text-align: center;
  font-size: 16px;
  margin: 0px 2px;
  opacity: 0.6;
  transition: 0.3s;
  display: inline-block;
  text-decoration: none;
  cursor: pointer;
}
.upload_button:hover {opacity: 1}

#fileInput { display:none; }

</style>

<script>
  {% if message %}
  alert('{{ message }}');
  {% endif %}
</script>
<div class = "container intro1">
  <div class = "row justify-content-md-center">
    <div class = "col-md-auto">
          악보 조옮김 웹 사이트
    </div>
  </div>
</div>
<div class = "container intro2">
  <div class = "row justify-content-md-center">
    <div class = "col-md-auto">
          악보 조옮김을 할 수 있는, 가장 쉬운 방법을 제공합니다
    </div>
  </div>
</div>


<form method="POST" enctype="multipart/form-data" novalidate>
{% csrf_token %}

<div class = "container input_email">
  <div class = "row justify-content-center">
    <div class = "col-md-2"></div>
    <div class = "col-md-4">
      <div class="input-group mb-3">
      <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">@</span>
      </div>
          <input type="text" name = "input_email" class="form-control" placeholder="User Gmail" aria-label="Username" aria-describedby="basic-addon1">
      </div>
    </div>

    <div class = "col-md-4">
      <select  class="custom-select" style="width:50%;height:35px;" name="조이름">
        <option value="F_major">F major</option>
        <option value="C_major">C major</option>
        <option value="G_major">G major</option>
        <option value="D_major">D major</option>
        <option value="A_major">A major</option>
        <option value="E_major">E major</option>
        <option value="B_major">B major</option>
        <option value="F_minor">F minor</option>
        <option value="C_minor">C minor</option>
        <option value="G_minor">G minor</option>
        <option value="D_minor">D minor</option>
        <option value="A_minor">A minor</option>
        <option value="E_minor">E minor</option>
        <option value="B_minor">B minor</option>
      </select>
    </div>
  </div>
</div>


<div class = "container dropzone">

  <div id="dropzone">
    여기로 악보 JPG 파일을 드래그 앤 드롭하여 업로드 하세요.
  </div>

</div>

<div class = "container file">
  <div class = "row justify-content-md-center">
    <div class = "col-md-auto">
      <output id="list"></output>
    </div>
</div>
<div class = "container upload_test">
  <div class = "row justify-content-md-center">
    <div class = "col-md-auto">
        <input type="submit" class="upload_button" value = "uploaad"/>
    </div>
  </div>
</div>
<input type="file" id = "fileInput" name = "uploadedFile" multiple/><br><br>
</form>

<script>
  function handleFileSelect(evt) {
    evt.stopPropagation();
    evt.preventDefault();

    // fileInput에 넘기기!!!!!!
    var files = evt.dataTransfer.files; // FileList object.
    fileInput.files = files;

    // files is a FileList of File objects. List some properties.
    var output = [];
    for (var i = 0, f; f = files[i]; i++) {
      output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
                  f.size, ' bytes, last modified: ',
                  f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a', '</li>');
    }
    document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
  }

  function handleDragOver(evt) {
    evt.stopPropagation();
    evt.preventDefault();
    evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
  }

  // Setup the dnd listeners.
  var dropZone = document.getElementById('dropzone');
  dropZone.addEventListener('dragover', handleDragOver, false);
  dropZone.addEventListener('drop', handleFileSelect, false);
</script>
{% endblock %}
